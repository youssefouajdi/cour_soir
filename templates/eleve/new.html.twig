{% extends 'base.html.twig' %}


{% block title %}New Seance{% endblock %}

{% block stylesheets %}
    {{ parent() }}

    <link rel="stylesheet" type="text/css" href="{{ asset('app-assets/css/plugins/forms/wizard.css') }}">

{% endblock stylesheets %}

{% block body %}
    {{ parent() }}

<div class="app-content content">
<div class="content-overlay"></div>
        <div class="header-navbar-shadow"></div>
        <div class="content-wrapper">
            <div class="content-header row">
                <div class="content-header-left col-md-9 col-12 mb-2">
                    <div class="row breadcrumbs-top">
                        <div class="col-12">
                            <h2 class="content-header-title float-left mb-0">Cr√©er un Eleve :</h2>
                            <div class="breadcrumb-wrapper col-12">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="{{ path('app_home') }}">Accueil</a>
                                    </li>
                                    <li class="breadcrumb-item"><a href="{{ path('eleve_index') }}">Eleve</a>
                                    </li>
                                    <li class="breadcrumb-item active">Nouveau
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="content-header-right text-md-right col-md-3 col-12 d-md-block d-none">
                    <div class="form-group breadcrum-right">
                        <div class="dropdown">
                            <button class="btn-icon btn btn-primary btn-round btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="feather icon-settings"></i></button>
                            <div class="dropdown-menu dropdown-menu-right"><a class="dropdown-item" href="#">Chat</a><a class="dropdown-item" href="#">Email</a><a class="dropdown-item" href="#">Calendar</a></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-body">
                <!-- Basic Inputs start -->
                {# <section id="basic-input">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="card-title">Ajouter</h4>
                                </div>
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-xl-4 col-sm-6 col-12 mb-1">
                                                <fieldset class="form-group">


   {{ include('eleve/_form.html.twig') }}

    
 </fieldset>
                                            </div>
                                            <div class="col-xl-4 col-sm-6 col-12 mb-1">
                                                <fieldset class="form-group">
                                                </fieldset>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                  
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Basic Inputs end -->




    
    </div>
    

    
 </fieldset>
                                            </div>
                                            <div class="col-xl-4 col-sm-6 col-12 mb-1">
                                                <fieldset class="form-group">
                                                </fieldset>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                  
                            </div>
                        </div>
                    </div>
                </section> #}
                <!-- Basic Inputs end -->

                <!-- Form wizard with icon tabs section start -->
                <section id="icon-tabs">
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="card-title">Inscription et affectation de l eleve a une matiere</h4>
                                </div>
                                <div class="card-content">
                                    <div class="card-body">
                                    {{ form_start(form, { 'attr' : { 'class': 'icons-tab-steps wizard-circle' } }) }}
                                            <h6><i class="step-icon feather icon-home"></i> Creation</h6>
                                            <fieldset>
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                              {{ form_label(form.nom, 'Nom') }}
    {{ form_widget(form.nom) }}
                                                        </div>
                                                        <div class="form-group">
                                                            {{ form_label(form.prenom, 'Prenom') }}
    {{ form_widget(form.prenom) }}
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                         {{ form_label(form.niveau, 'Niveau') }}
    {{ form_widget(form.niveau) }}
                                                             </div>
                                                             <div class="form-group">
                                                             {{ form_label(form.tel, 'email') }}
    {{ form_widget(form.email) }}
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                         {{ form_label(form.tel, 'Telaphone') }}
    {{ form_widget(form.tel) }}
                                                             </div>
                                                             <div class="form-group">
                                                              {{ form_label(form.transport, 'transport') }}
    {{ form_widget(form.transport) }}
                                                        </div>
                                                    </div>
                                                </div>
                                            </fieldset>
                                            <!-- Step 1 -->
                                            <h6><i class="step-icon feather icon-briefcase"></i>Affectation</h6>
                                            <fieldset>
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            {{ form_label(form.paye) }}
    {{ form_widget(form.paye) }}
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            {{ form_label(form.reste) }}
    {{ form_widget(form.reste) }}
                                                        </div>
                                                    </div>
                                                </div>
 
                                                <div class="row" id="add1">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            
   {{ form_label(form.id_matiere, 'Matiere') }}
    {{ form_widget(form.id_matiere) }}
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                           
    {{ form_label(form.id_professeur,'Professeur', {'label_attr': {'class': 'col-sm-6 '}}) }}
    {{ form_widget(form.id_professeur) }}
                                                        </div>
                                                    </div>
                                                </div>
                            <a id="btn1"><i class="fa fa-plus-circle fa_custom fa-3x"></i></a>                   
    
 
    
                                                <div class="row" id="add2">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            
  {{ form_label(form.id_matiere2, 'Matiere') }}
    {{ form_widget(form.id_matiere2) }}
    
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                           
   {{ form_label(form.id_professeur2,'Professeur', {'label_attr': {'class': 'col-sm-6 '}}) }}
    {{ form_widget(form.id_professeur2) }}
                                                        </div>
                                                    </div>
                                                </div>
                                                <a  id="btn2"><i class="fa fa-plus-circle fa_custom fa-3x"></i></a>
                                                <div class="row">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            
  {{ form_label(form.id_matiere3, 'Matiere') }}
    {{ form_widget(form.id_matiere3) }}
    
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                           
    {{ form_label(form.id_professeur3,'Professeur', {'label_attr': {'class': 'col-sm-6 '}}) }}
    {{ form_widget(form.id_professeur3) }}
                                                        </div>
                                                    </div>
                                                </div>
                                            </fieldset>

                                            <!-- Step 2 -->
                                            

                                            <!-- Step 3 -->
                                            <h6><i class="step-icon feather icon-image"></i> Imprimer</h6>
                                            <fieldset>
                                               <div class="card-body">
                                    <div class="row">
                                        <div class="col-12 col-sm-9 col-md-6 col-lg-5">
                                            <table>
                                                <tbody>
                                                <tr>
                                                    <td class="font-weight-bold">Date/heure</td>
                                                    <td>{{ "now"|date("d/m/Y") }}</td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Nom</td>
                                                    <td id="valeur1"></td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Prenom</td>
                                                    <td id="valeur2"></td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Tel</td>
                                                    <td id="valeur3"></td>
                                                </tr>
                                            </tbody></table>
                                        </div>
                                        <div class="col-12 col-md-12 col-lg-5">
                                            <table class="ml-0 ml-sm-0 ml-lg-0">
                                                <tbody><tr>
                                                    <td class="font-weight-bold">Transport</td>
                                                    <td id="valeur4"></td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Email</td>
                                                    <td id="valeur5"></td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Niveau</td>
                                                    <td id="valeur6"></td>
                                                </tr>
                                                <tr>
                                                    <td class="font-weight-bold">Code barre</td>
                                                    <canvas id="barcode"></canvas>
                                                </tr>
                                            </tbody></table>
                                        </div>
                                    </div>
                                    
                                </div>
                                            </fieldset>
                                            <button class="btn">{{ button_label|default('Save') }}</button>
{{ form_end(form) }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>


<a href="{{ path('eleve_index') }}">back to list</a>

    
    </div>

{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="{{ asset('app-assets/vendors/js/vendors.min.js') }}"></script>
<script src="{{ asset('app-assets/vendors/js/extensions/jquery.steps.min.js') }}"></script>
<script src="{{ asset('app-assets/js/core/app-menu.js') }}"></script>
<script src="{{ asset('app-assets/js/core/app.js') }}"></script>
<script src="{{ asset('app-assets/js/scripts/components.js') }}"></script>
<script src="{{ asset('app-assets/js/scripts/forms/wizard-steps.js') }}"></script>
<script src="{{ asset('app-assets/JsBarcode.all.min.js') }}"></script><script>
    var $sport;
    $sport = $('#eleve_id_matiere');
    
    $("#eleve_nom").change(function(){
         $("#valeur1").html($("#eleve_nom").val());
         $("#barcode").JsBarcode($("#eleve_nom").val());
});
 $("#eleve_prenom").change(function(){
         $("#valeur2").html($("#eleve_prenom").val());
});
    $("#eleve_tel").change(function(){
         $("#valeur3").html($("#eleve_tel").val());
});
$("#eleve_email").change(function(){
         $("#valeur5").html($("#eleve_email").val());
});
    $("#eleve_niveau").change(function(){
         $("#valeur6").html($("#eleve_niveau").val());
});
$("#eleve_nom").change(function(){
         $("#valeur7").html($("#eleve_nom").val());
});

    $('#add1').hide();
     $('#add2').hide();
     $( "#btn1" ).click(function() {
   $('#add1').show();
   $('#btn1').hide();
});
$( "#btn2" ).click(function() {
   $('#add2').show();
   $('#btn2').hide();
});
    $sport.change(function() {
        $('#eleve_id_professeur').show();
        
        var $form = $(this).closest('form');
        var data = {id_matiere : $sport.val()};
        $.ajax({
            url : $form.attr('action'),
            type: 'GET',
            data : data,
            success: function(html) {
                $('#eleve_id_professeur').replaceWith(
                    $(html).find('#eleve_id_professeur')
                );
                  var $sport1;
                    $sport1 = $('#eleve_id_matiere2');
                    $sport1.change(function() {
                    
                    var $form = $(this).closest('form');
                    var data = {id_matiere2 : $sport1.val()};
                    $.ajax({
                        url : $form.attr('action'),
                        type: 'GET',
                        data : data,
                        success: function(html) {
                            $('#eleve_id_professeur2').replaceWith(
                                $(html).find('#eleve_id_professeur2')
                            );
                            var $sport2;
                                $sport2 = $('#eleve_id_matiere3');
                                $sport2.change(function() {
                                
                                var $form = $(this).closest('form');
                                var data = {id_matiere3 : $sport2.val()};
                                $.ajax({
                                    url : $form.attr('action'),
                                    type: 'GET',
                                    data : data,
                                    success: function(html) {
                                        $('#eleve_id_professeur3').replaceWith(
                                            $(html).find('#eleve_id_professeur3')
                                        );
                                    }
                                });
                            });
                        }
                    });
                });
            }
        });
    });
    </script>
{% endblock %}
